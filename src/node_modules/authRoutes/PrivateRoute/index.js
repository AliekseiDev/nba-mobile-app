import React from 'react';
import UserContext from 'context';
import { Route, Redirect } from 'react-router-dom';

const PrivateRoute = ({component: Comp, ...rest}) => {
  return (
    <Route
      {...rest}
      render={
        (props) => (
          <UserContext>
            {
              user => (
                user ?
                  <Comp {...props}/>
                :
                  <Redirect to="/sign-in"/>
              )
            }
          </UserContext>
        ) 
      }
    />
  );
};

export default PrivateRoute;